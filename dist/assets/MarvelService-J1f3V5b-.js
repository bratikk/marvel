import{r as l}from"./index-bmDqCmmW.js";const g=()=>{const[a,e]=l.useState(!1),[m,o]=l.useState(!1),n=l.useCallback(async(i,p="GET",d=null,f={"Content-type":"application/json"})=>{e(!0);try{const s=await fetch(i,{method:p,body:d,headers:f});if(!s.ok)throw new Error(`Could not fetch ${i}, status: ${s.status}`);const c=await s.json();return e(!1),c}catch(s){throw e(!1),o(s.message),s}},[]),u=l.useCallback(()=>o(null),[]);return{loading:a,request:n,error:m,clearError:u}},b=()=>{const a="https://gateway.marvel.com:443/v1/public/",e="apikey=c5d6fc8b83116d92ed468ce36bac6c62",{loading:o,request:n,error:u,clearError:i}=g(),p=async t=>{const r=await n(`${a}characters/${t}?${e}`);return c(r.data.results[0])},d=async t=>{const r=await n(`${a}comics/${t}?${e}`);return h(r.data.results[0])},f=async(t=0)=>(await n(`${a}comics?limit=8&offset=${t}&${e}`)).data.results.map(h),s=async(t=210)=>(await n(`${a}characters?limit=9&offset=${t}&${e}`)).data.results.map(c),c=t=>({id:t.id,name:t.name,description:t.description?`${t.description.slice(0,210)}...`:"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}),h=t=>{var r;return{id:t.id,title:t.title,description:t.description||"There is no description",pageCount:t.pageCount?`${t.pageCount} p.`:"No information about the number of pages",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:((r=t.textObjects[0])==null?void 0:r.language)||"en-us",price:t.prices[0].price?`${t.prices[0].price}$`:"not available"}};return{error:u,loading:o,getComic:d,clearError:i,getCharacter:p,getAllComics:f,getAllCharacters:s}};export{b as u};
