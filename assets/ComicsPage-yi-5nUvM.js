import{r as n,j as s,L as N}from"./index-J8m60jSi.js";import{A as E}from"./AppBanner-Zt5ELa1N.js";import{u as b}from"./MarvelService-UKzcQFwr.js";import{S}from"./Spinner-L0Bh447U.js";import{E as v}from"./ErrorMessage-IGFIT2pC.js";import{H as L}from"./Helmet-Va5TdXMi.js";const k=()=>{const[o,m]=n.useState(0),[l,d]=n.useState([]),[u,x]=n.useState(!1),[c,r]=n.useState(!1),{loading:f,error:j,getAllComics:p}=b();n.useEffect(()=>{a(o,!0)},[]);const a=(t,i)=>{r(!i),p(t).then(_)},_=t=>{let i=!1;t.length<8&&(i=!0),x(i),m(o+8),r(!1),d(e=>[...e,...t])},h=(t=>{const i=t.map(e=>s.jsx("li",{className:"comics__item",children:s.jsxs(N,{to:`/comics/${e.id}`,children:[s.jsx("img",{src:e.thumbnail,alt:e.title,className:"comics__item-img"}),s.jsx("div",{className:"comics__item-name",children:e.title}),s.jsx("div",{className:"comics__item-price",children:e.price})]})},e.id));return s.jsx("ul",{className:"comics__grid",children:i})})(l),g=j?s.jsx(v,{}):null,C=f&&!c?s.jsx(S,{}):null;return s.jsxs("div",{className:"comics__list",children:[h,C,g,s.jsx("button",{disabled:c,onClick:()=>a(o),className:"button button__main button__long",style:{display:u?"none":"block"},children:s.jsx("div",{className:"inner",children:"load more"})})]})},R=()=>s.jsxs(s.Fragment,{children:[s.jsxs(L,{children:[s.jsx("title",{children:"Comics"}),s.jsx("meta",{name:"description",content:"Page with list of our comics"})]}),s.jsx(E,{}),s.jsx(k,{})]});export{R as default};
